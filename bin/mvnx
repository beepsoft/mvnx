#!/usr/bin/env node

const mvnx = require('../src/index.js')
const BaseMvnxError = require('../src/lib/error/BaseMvnxError');

(async function main() {
    try {
        await mvnx.run(process.argv)
    } catch (err) {
        if (err instanceof BaseMvnxError) {
            console.error();
            console.error(err.toString());
        } else {
            console.error('An unexpected error occurred!')
            console.error('Most likely, this is an issue with mvnx. Please submit an issue to\n\n  https://github.com/mvnx/mvnx/issues\n')

            console.error(err)
        }

        process.exit(1);
    }
})()
